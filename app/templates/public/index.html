{% extends "base.html" %}

{% block title %}CGTools{% endblock %}

{% block content %}


<div id="coin-bg" class="background"></div>

<main class="hero">
  <!-- Flash message just below navbar -->
  <div class="container position-absolute start-50 translate-middle-x" style="top: 4.5rem; z-index: 1050;">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div class="container mt-4">
      {% for category, message in messages %}
      <div class="alert alert-{{ category }} alert-dismissible fade show shadow d-inline-block" role="alert">
        <span class="me-3">{{ message }}</span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {% endfor %}
    </div>
    {% endif %}
    {% endwith %}
  </div>

  <h1 class="hero-fade">Welcome to CGTools</h1>
  <p class="hero-fade">Capital gains tax tools for cryptocurrency</p>

  <!-- Feature Cards -->
  <div class="container-fluid text-white py-2" style="max-width: 1400px; margin: 0 auto;">
    <div class="row row-cols-1 row-cols-lg-3 g-4">
      <div class="col">
        <div class="about-box p-3 shadow-sm d-flex flex-column justify-content-between h-100">
          <div class="text-box">
            <h3 class="text-warning">Upload</h3>
            <p>Upload your CSV file to calculate your capital gains.</p>
          </div>
          <div class="mt-3 text-center">
            <img src="{{ url_for('static', filename='images/icons/upload.svg') }}" alt="Upload Icon" width="48"
              height="48">
          </div>
        </div>
      </div>

      <div class="col">
        <div class="about-box p-3 shadow-sm d-flex flex-column justify-content-between h-100">
          <div class="text-box">
            <h3 class="text-warning">Visualise</h3>
            <p>See your trades, totals, and potential gains/losses.</p>
          </div>
          <div class="mt-3 text-center">
            <img src="{{ url_for('static', filename='images/icons/binoculars.svg') }}" alt="Binoculars Icon" width="48"
              height="48">
          </div>
        </div>
      </div>

      <div class="col">
        <div class="about-box p-3 shadow-sm d-flex flex-column justify-content-between h-100">
          <div class="text-box">
            <h3 class="text-warning">Share</h3>
            <p>Export or share your summary with a tax agent or partner.</p>
          </div>
          <div class="mt-3 text-center">
            <div>
              <img src="{{ url_for('static', filename='images/icons/handshake.svg') }}" alt="Handshake Icon" width="48"
                height="48">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- ========================= -->
  <!-- Big, centered CTAs        -->
  <!-- ========================= -->
  <section class="landing-cta text-center hero-fade">
    
    {% if current_user.is_authenticated %}
      <a href="{{ url_for('user.file_upload') }}"
        class="btn cta-primary btn-lg mx-3 my-4">
        Get Started
      </a>
    {% else %}
      <a href="{{ url_for('user.signup') }}"
        class="btn cta-primary btn-lg mx-3 my-4">
        Get Started
      </a>
    {% endif %}
    <a href="{{ url_for('about') }}"
       class="btn cta-primary btn-lg mx-3 my-4">
      Learn More
    </a>
    
  </section>

</main>
{% endblock %}